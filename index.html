<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock Paper Scissors</title>
</head>
<body>
    <script>
        const chioces=["ROCK","PAPER","SCISSORS"];

        function getComputerChoice(){
            let comChoice=chioces[Math.floor(Math.random()*chioces.length)];
            return comChoice;
        }

        function checkWinner(humanChoice, computerChoice){
            if(humanChoice==computerChoice){
                return "draw";
            }else if(
                humanChoice=="ROCK"&& computerChoice=="SCISSORS"||
                humanChoice=="SCISSORS"&&computerChoice=="PAPER"||
                humanChoice=="PAPER"&&computerChoice=="ROCK"
            ){
                return "player";
            }else{
                return "computer";
            }
        }

        function playRound(humanChoice, computerChoice){
            const result= checkWinner(humanChoice, computerChoice);
            if(result=="draw"){
                return "It's a DRAW";
            }else if(result=="player"){
                return `You win! ${humanChoice} beats ${computerChoice}`;
            }else{
                return `You loss! ${computerChoice} beats ${humanChoice}`;
            }
        }
        function getHumanChoice(){
            let validChoice= false;
            while (validChoice==false){
                const myChoice= prompt("Enter: ROCK or PAPER or SCISSORS", '');
                if(myChoice==null){
                    continue;
                }
                const capital= myChoice.toUpperCase();
                if(chioces.includes(capital)){
                    validChoice== true;
                    return capital;
                }
            }    
        }
        
        function playGame(){
            let humanScore= 0;
            let computerScore= 0;
            console.log("Welcome PLAYER!");
            for(let i=0; i<5; i++){
                const humanChoice= getHumanChoice();
                const computerChoice= getComputerChoice();
                console.log(playRound(humanChoice, computerChoice));
                console.log("===================");
                if(checkWinner(humanChoice, computerChoice) == "player"){
                    humanScore++;
                }else if(checkWinner(humanChoice, computerChoice) == "computer"){
                    computerScore++;
                }
            }
            console.log("Game Over");
            if(humanScore > computerScore){
                console.log("YOU'RE THE WINNER!");
            }else if(computerScore > humanScore){
                console.log("COMPUTER WINS!");
            }else{
                console.log("WE HAVE A TIE!");
            }
        }
        playGame()

        

    
    </script>
</body>
</html>